{% extends "base.html" %}
{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/account.css') }}">

<div class="account-container text-center mb-5">
  <h2 class="page-title">üë§ T√†i kho·∫£n c·ªßa b·∫°n</h2>
  <p class="text-muted lead">H√£y c·∫≠p nh·∫≠t th√¥ng tin ƒë·ªÉ ph·ª•c v·ª• c·ªông ƒëo√†n t·ªët h∆°n.</p>
</div>

<div class="account-wrapper container">

  <!-- Ph·∫ßn avatar -->
  <div class="avatar-container text-center mb-4">
    {% if current_user.profile.avatar_filename %}
      <img src="{{ url_for('static', filename='img/' + current_user.profile.avatar_filename) }}" alt="Avatar" class="avatar-img shadow">
    {% else %}
      <img src="https://source.unsplash.com/200x200/?christian,profile" alt="Avatar" class="avatar-img shadow">
    {% endif %}
    <h4 class="username mt-3">{{ current_user.username }}</h4>
  </div>

  <div class="row justify-content-center g-4">

    <!-- C·∫≠p nh·∫≠t th√¥ng tin -->
    <div class="col-lg-5 col-md-6 col-sm-12">
      <div class="account-card shadow-sm">
        <h3 class="account-title"><i class="fas fa-user-edit me-2 text-gold"></i> C·∫≠p nh·∫≠t th√¥ng tin</h3>
        <form method="POST" action="" enctype="multipart/form-data">
          {{ update_form.hidden_tag() }}
          <fieldset class="form-group">
            <div class="form-group mb-3">
              {{ update_form.username.label(class="form-label fw-bold") }}
              {{ update_form.username(class="form-control", placeholder="Nh·∫≠p t√™n ng∆∞·ªùi d√πng") }}
            </div>
            <div class="form-group mb-3">
              {{ update_form.email.label(class="form-label fw-bold") }}
              {{ update_form.email(class="form-control", placeholder="Nh·∫≠p email") }}
            </div>
            <div class="form-group mb-3">
              {{ update_form.avatar.label(class="form-label fw-bold") }}
              {{ update_form.avatar(class="form-control-file") }}
              <small class="form-text text-muted">Ch·ªçn ·∫£nh t·ª´ thi·∫øt b·ªã c·ªßa b·∫°n (JPG, PNG, GIF)</small>
            </div>
          </fieldset>
          <div class="form-group text-center mt-4">
            <input class="btn btn-save" type="submit" name="submit_update_info" value="üíæ C·∫≠p nh·∫≠t">
          </div>
        </form>
      </div>
    </div>

    <!-- ƒê·ªïi m·∫≠t kh·∫©u -->
    <div class="col-lg-5 col-md-6 col-sm-12">
      <div class="account-card shadow-sm">
        <h3 class="account-title"><i class="fas fa-lock me-2 text-gold"></i> ƒê·ªïi m·∫≠t kh·∫©u</h3>
        <form method="POST" action="">
          {{ password_form.hidden_tag() }}
          <fieldset class="form-group">
            <div class="form-group mb-3">
              {{ password_form.current_password.label(class="form-label fw-bold") }}
              {{ password_form.current_password(class="form-control", placeholder="M·∫≠t kh·∫©u hi·ªán t·∫°i") }}
            </div>
            <div class="form-group mb-3">
              {{ password_form.new_password.label(class="form-label fw-bold") }}
              {{ password_form.new_password(class="form-control", placeholder="M·∫≠t kh·∫©u m·ªõi") }}
            </div>
            <div class="form-group mb-3">
              {{ password_form.confirm_password.label(class="form-label fw-bold") }}
              {{ password_form.confirm_password(class="form-control", placeholder="Nh·∫≠p l·∫°i m·∫≠t kh·∫©u m·ªõi") }}
            </div>
          </fieldset>
          <div class="form-group text-center mt-4">
            <input class="btn btn-save" type="submit" name="submit_change_password" value="üîí ƒê·ªïi m·∫≠t kh·∫©u">
          </div>
        </form>
      </div>
    </div>

  </div>
</div>
{% endblock content %}
